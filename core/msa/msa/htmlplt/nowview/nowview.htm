<HTML><HEAD><TITLE>网络7层管理和过滤的领导者</TITLE>
<META content="text/html; charset=utf-8" http-equiv=Content-Type>
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/ext-all.css">
<link rel="stylesheet" type="text/css" href="/msa/publiccss/feed-viewer.css" />
<LINK rel=stylesheet type=text/css href="/msa/extjs/resources/css/xtheme-default.css">
<SCRIPT type=text/javascript src="/msa/extjs/adapter/ext/ext-base.js"></SCRIPT>
<SCRIPT type=text/javascript  src="/msa/extjs/ext-all.js"></SCRIPT>
<SCRIPT type=text/javascript  src="msa/htmlplt/publicjs/TreeNodeCheck.js"></SCRIPT>

<STYLE type=text/css>
HTML {
	BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; FONT: 12px verdana; HEIGHT: 100%; OVERFLOW: hidden; BORDER-TOP: 0px; BORDER-RIGHT: 0px; PADDING-TOP: 0px
}
BODY {
	BORDER-BOTTOM: 0px; BORDER-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; FONT: 12px verdana; HEIGHT: 100%; OVERFLOW: hidden; BORDER-TOP: 0px; BORDER-RIGHT: 0px; PADDING-TOP: 0px
}	
P {
	MARGIN: 5px
}
.settings {
	BACKGROUND-IMAGE: url(/msa/extjs/shared/icons/fam/folder_wrench.png)
}
.nav {
	BACKGROUND-IMAGE: url(/msa/extjs/shared/icons/fam/folder_go.png)
}
</STYLE>

<SCRIPT type=text/javascript>
    Ext.BLANK_IMAGE_URL = '/msa/extjs/resources/images/default/s.gif';
    Ext.onReady(function(){
						Ext.QuickTips.init();
						
						var myMask = new Ext.LoadMask(Ext.getBody(), 
						{
								  msg:"Please wait..."
						});
									
						myMask.show();
												
						var contentPanel = {
							id: 'content-panel',
							region: 'center', // this is what makes this panel into a region within the containing layout
							margins: '2 5 5 0',
							activeItem: 0,
							border: false,
							autoScroll: true,
							el:'mainviewdiv'
						};
              
						  // Go ahead and create the TreePanel now so that we can use it below
					   var loader=new Ext.tree.TreeLoader({
					    			dataUrl:'/msa/main.xp?Fun=msaAsyncTree',
										baseParams:{Fun:'msaAsyncTree'}
					   });
					   loader.on("beforeload", function(loader, node) {   
                        loader.baseParams.treetype = node.id;
             });
					   var treePanel = new Ext.tree.TreePanel({
                    id: 'tree-panel',
					        	region:'north',
                    height: 350,
                    autoScroll: true,
										enableAllCheck:true,
                    rootVisible: false,
                    loader:loader,
                    root: new Ext.tree.AsyncTreeNode({
                        expanded: true,
                        children: [{
																    text:'系统概况',
																    expanded: true,
																    cls:'feeds-node',
																    children:[{
																        text:'实时摘要',
																        iconCls: 'feed-icon',
																        cls:'feed',
																        id:'xitongzhaiyao',
																        leaf:true
																    },{
																        text:'服务概况',
																        iconCls: 'feed-icon',
																        cls:'feed',
																        id:'syssrvlistnow',
																        leaf:true
																    },{
																        text:'人员概况',
																        iconCls: 'feed-icon',
																        cls:'feed',
																        id:'sysuserflow',
																        leaf:true
																    },{
																        text:'虚拟通道概况',
																        iconCls: 'feed-icon',
																        cls:'feed',
																        id:'sysxntdflow',
																        leaf:true
																    },{
																		        text:'在线人员',
																		        iconCls: 'feed-icon',
																		        cls:'feed',
																		        id:'userlistinfo',
																		        leaf:true
																		}]
																		},{
																		    text:'虚拟通道',
																		    cls:'feeds-node',																    
																		    id:'vpath'
																		},{
																		    text:'实时连接',
																		    cls:'feeds-node',
																		    children:[{
																		        text:'规则阻断的连接',
																		        iconCls: 'feed-icon',
																		        cls:'feed',
																		        id:'guzezuduanlj',
																		        leaf:true
																		    }]
																		}]
                    })
                });
                
//                ,{
//																		    text:'实用小工具',
//																		    cls:'feeds-node',
//																		    children:[{
//																		        text:'手动抓包',
//																		        iconCls: 'feed-icon',
//																		        cls:'feed',
//																		        id:'naspackage',
//																		        leaf:true
//																		    }]
//																		}
						// Assign the changeLayout function to be called on tree node click.
					  treePanel.on('click', function(n){
					    	var sn = this.selModel.selNode || {}; // selNode is null on initial selection
					    	//if(n.leaf && n.id != sn.id){  // ignore clicks on folders and currently selected node 
								if(n.leaf){  // ignore clicks on folders and currently selected node 
								 if(n.id=='cpuinfo'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=nasshowcpunow';
								 }else if(n.id=='zhengchanglj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=1';
								 }else if(n.id=='liukonglj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=2';
								 }else if(n.id=='guzezuduanlj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=3';
								 }else if(n.id=='httplj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=4';
								 }else if(n.id=='qoshttplj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=5';
								 }else if(n.id=='blockhttplj'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltconquery+showtype=6';
								 }else if(n.id=='tongdaozhuangtai'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=ltqosrunlist';
								 }else if(n.id.substring(0,3)=='qos'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=msaQosDetail+qosid='+n.id.substring(3);
								 }else if(n.id.substring(0,3)=='vpa'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=msaPathDetail+pathid='+n.id.substring(3);
								 }else if(n.id.substring(0,3)=='pol'){
								    mainviewfrm.location.href='/msa/main.xp?Fun=msaRuleHtml+ruleid='+n.id.substring(3);
								 }else if(n.id=='userlistinfo'){
								 		mainviewfrm.location.href='/msa/main.xp?Fun=msaShowOnlineUser';
								 }else{
									 mainviewfrm.location.href=n.id+'.htm';
                 }
                }
					  });
					   var detailsPanel = {
							    id: 'details-panel',
					        title: '消息',
					        region: 'center',
					        bodyStyle: 'padding-bottom:15px;background:#eee;',
							    autoScroll: true,
							    html: '<p class="details-info">经常及时关注系统消息和通知.</p>'
					  };
						var westPanel ={
                    title:'功能主线',
                    width: 175,
                    minSize: 125,
                    maxSize: 400,
        						collapsible: true,
        						cmargins:'0 5 5 5',
						        lines:false,
						        autoScroll:true,
						        collapseFirst:false,
								    layout: 'fit',
						    	  id: 'layout-browser',
						        border: false,
						        split:true,
								    margins: '2 0 5 5',
								    items: [treePanel]
						};
						function handleActivate(tab){
							mainviewfrm.location.href="/msa/nowview/sysgroupflow.htm";
				    }
						var eastPanel= {
					          id: 'east-panel',
                    region:'west',
                    collapsible: true,
                    split:true,
                    width: 175,
                    minSize: 125,
                    maxSize: 400,
                    layout:'fit',
                    margins:'0 5 0 0',
                    title:'选择任务主线',
                    items:
                        new Ext.TabPanel({
                            border:false,
                            activeTab:0,
                            items:[westPanel
//                            {
//                                title: '部门主线',
//                                html: "<IFRAME  name='menufrm' width=100% height='" + (screen.height-280) + "' SRC = './grouptree.htm'   border='0' frameborder='0' scrolling='yes'   ></iframe>",
//                                autoScroll:true,
//                                listeners: {activate: handleActivate}
//                            }
															]
                        })
              }
						  new Ext.Viewport({
									layout: 'border',
									bbar: new Ext.StatusBar({
								      id: 'centerstatus',
                      defaultText: 'Ready',
                      defaultIconCls: 'default-icon',
                      iconCls: 'ready-icon'
                  }),
									items: [
									  eastPanel,
										contentPanel
									],
					        renderTo: Ext.getBody()
					    });
             
            myMask.hide();
  });
	</SCRIPT>

</HEAD>
<BODY  oncontextmenu="return false" style="SCROLLBAR-FACE-COLOR: #f0f0f0;  overflow-x:hidden;  OVERFLOW: scroll; SCROLLBAR-SHADOW-COLOR: #f0f0f0; SCROLLBAR-3DLIGHT-COLOR: #f0f0f0; SCROLLBAR-ARROW-COLOR: #f0f0f0; SCROLLBAR-DARKSHADOW-COLOR: #cccccc;">
<div style="display:none;">
        <div id="proxy"></div>
        <div id="mainviewdiv">
            <iframe id="mainviewfrm" name="mainviewfrm" src="/msa/main.xp?Fun=checkoutShowpage+path=nowview+name=xitongzhaiyao" valign=top width="100%" height="50" border="0" frameborder="0" scrolling="yes"></iframe>
        </div>
    </div>
<script>
document.all("mainviewfrm").style.height=screen.height-250;
</script>
</BODY></HTML>

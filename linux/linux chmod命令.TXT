Linux chmod 命令

功能说明：

变更文件或目录的权限。

语 法：

chmod [-cfRv][--help][--version][<权限范围>+/-/=<权限设置...>][文件或目录...]

或 chmod [-cfRv][--help][--version][数字代号][文件或目录...]

或 chmod [-cfRv][--help][--reference=<参考文件或目录>][--version][文件或目录...]

补充说明：

在UNIX系统家族里，文件或目录权限的控制分别以读取，写入，执行3种一般权限来区分，另有3种特殊权限可供运用，再搭配拥有者与所属群组管理权限范围。您可以使用chmod指令去变更文件与目录的权限，设置方式采用文字或数字代号皆可。符号连接的权限无法变更，如果您对符号连接修改权限，其改变会作用在被连接的原始文件。权限范围的表示法如下：

u：User，即文件或目录的拥有者。

g：Group，即文件或目录的所属群组。

o：Other，除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围。

a：All，即全部的用户，包含拥有者，所属群组以及其他用户。

有关权限代号的部分，列表于下：

r：读取权限，数字代号为"4"。

w：写入权限，数字代号为"2"。

x：执行或切换权限，数字代号为"1"。

-：不具任何权限，数字代号为"0"。

s：特殊?b>功能说明：变更文件或目录的权限。

参 数：

-c或--changes 效果类似"-v"参数，但仅回报更改的部分。

-f或--quiet或--silent 不显示错误信息。

-R或--recursive 递归处理，将指定目录下的所有文件及子目录一并处理。

-v或--verbose 显示指令执行过程。

--help 在线帮助。

--reference=<参考文件或目录> 把指定文件或目录的权限全部设成和参考文件或目录的权限相同

--version 显示版本信息。

<权限范围>+<权限设置> 开启权限范围的文件或目录的该项权限设置。

<权限范围>-<权限设置> 关闭权限范围的文件或目录的该项权限设置。

<权限范围>=<权限设置> 指定权限范围的文件或目录的该项权限设置。

chmod用于改变文件或目录的访问权限。用户用它控制文件或目录的访问权限。该命令有两种用法。一种是包含

字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。

1. 文字设定法

语法：chmod [who] [+ | - | =] [mode] 文件名

命令中各选项的含义为：

操作对象who可是下述字母中的任一个或者它们的组合：

u 表示“用户（user）”，即文件或目录的所有者。

g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。

o 表示“其他（others）用户”。

a 表示“所有（all）用户”。它是系统默认值。

操作符号可以是：

+ 添加某个权限。

- 取消某个权限。

= 赋予给定权限并取消其他所有权限（如果有的话）。

设置 mode 所表示的权限可用下述字母的任意组合：

r 可读。

w 可写。

x 可执行。

X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。

s 在文件执行时把进程的属主或组ID置为该文件的文件属主。

方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。

t 保存程序的文本到交换设备上。

u 与文件属主拥有一样的权限。

g 与和文件属主同组的用户拥有一样的权限。

o 与其他用户拥有一样的权限。

文件名：以空格分开的要改变权限的文件列表，支持通配符。

在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：

chmod g+r，o+r example % 使同组和其他用户对文件example 有读权限。

2. 数字设定法

我们必须首先了解用数字表示的属性的含义：0表示没有权限，1表示可执行权限， 2表示可写权限，4表示可读

权限，然后将其相加。所以数字属性的格式应为3个从0到7的八进制数，其顺序是（u）（g）（o）。

例如，如果想让某个文件的属主有“读/写”二种权限，需要把4（可读）+2（可写）＝6（读/写）。

数字设定法的一般形式为：

语法：chmod [mode] 文件名

指令实例：

chmod a+x sort

% 即设定文件sort的属性为：

文件属主（u） 增加执行权限

与文件属主同组用户（g） 增加执行权限

其他用户（o） 增加执行权限

chmod ug+w，o-x text

% 即设定文件text的属性为：

文件属主（u） 增加写权限

与文件属主同组用户（g） 增加写权限

其他用户（o） 删除执行权限

chmod u+s a.out

% 假设执行chmod后a.out的权限为（可以用ls C l a.out命令来看）：

Crws--x--x 1 inin users 7192 Nov 4 14:22 a.out

并且这个执行文件要用到一个文本文件shiyan1.c，其文件存取权限为“Crw-------”，

即该文件只有其属主具有读写权限。

当其他用户执行a.out这个程序时，他的身份因这个程序暂时变成inin（由于chmod

命令中使用了s选项），所以他就能够读取shiyan1.c这个文件（虽然这个文件被设定为

其他人不具备任何权限），这就是s的功能。

因此，在整个系统中特别是root本身，最好不要过多的设置这种类型的文件（除非

必要）这样可以保障系统的安全，避免因为某些程序的bug而使系统遭到入侵。

chmod aCx mm.txt

chmod Cx mm.txt

chmod ugoCx mm.txt

% 以上这三个命令都是将文件mm.txt的执行权限删除，它设定的对象为所有使用者。

$ chmod 644 mm.txt

% 即设定文件mm.txt的属性为：-rw-r--r--

文件属主（u）inin 拥有读、写权限

与文件属主同组人用户（g） 拥有读权限

其他人（o） 拥有读权限

chmod 750 wch.txt

% 即设定wchtxt这个文件的属性为：-rwxr-x---

文件主本人（u）inin 可读/可写/可执行权

与文件主同组人（g） 可读/可执行权

其他人（o） 没有任何权限